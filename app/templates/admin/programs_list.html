{% extends "admin/base.html" %}

{% block content %}
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2">Programs Catalog</h1>
    <a href="{{ url_for('admin.create_program') }}" class="btn btn-primary">Add New Program</a>
</div>

<div class="alert alert-light border mb-4">
    <h6 class="mb-2"><i class="fas fa-cog"></i> Global Programs Page Sections</h6>
    <div class="btn-group btn-group-sm">
        <a href="{{ url_for('admin.edit_section', id=2) }}" class="btn btn-outline-secondary">
            <i class="fas fa-edit"></i> Edit Intro Text
        </a>
        <a href="{{ url_for('admin.edit_section', id=3) }}" class="btn btn-outline-secondary">
            <i class="fas fa-edit"></i> Edit "The Promise" (Outro)
        </a>
        <a href="{{ url_for('admin.edit_page', id=3) }}" class="btn btn-outline-secondary">
            <i class="fas fa-file-alt"></i> Edit Hero Title
        </a>
    </div>
    <small class="d-block mt-2 text-muted">These sections control the header and footer content of the main Programs
        page.</small>
</div>

<div class="table-responsive">
    <table class="table table-striped table-sm">
        <thead class="table-light">
            <tr>
                <th width="80">Order</th>
                <th>Name</th>
                <th>Category</th>
                <th>Featured</th>
                <th width="150">Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for program in programs %}
            <tr>
                <td><span class="badge bg-secondary">{{ program.order }}</span></td>
                <td><strong>{{ program.name }}</strong></td>
                <td><span class="badge bg-info text-dark">{{ program.category|replace('_', ' ')|capitalize }}</span>
                </td>
                <td>
                    {% if program.is_featured %}
                    <span class="badge bg-warning text-dark"><i class="fas fa-star"></i> Home</span>
                    {% else %}
                    <span class="text-muted small">No</span>
                    {% endif %}
                </td>
                <td>
                    <div class="btn-group btn-group-sm">
                        <a href="{{ url_for('admin.edit_program', id=program.id) }}" class="btn btn-outline-primary"
                            title="Edit Program & Content">
                            <i class="fas fa-edit"></i> Edit Details
                        </a>
                        <button type="button" class="btn btn-outline-danger"
                            data-url="{{ url_for('admin.delete_program', id=program.id) }}"
                            onclick="confirmDelete(this.dataset.url, 'Delete Program', 'Are you sure?')">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}